{"version":3,"sources":["node_modules/util/support/isBufferBrowser.js","node_modules/util/node_modules/inherits/inherits_browser.js","node_modules/process/browser.js","node_modules/util/util.js","node_modules/events/events.js","node_modules/@chidiwilliams/ayoayo/minimax.js","node_modules/@chidiwilliams/ayoayo/index.js","index.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","getOwnPropertyDescriptors","Object","obj","keys","descriptors","getOwnPropertyDescriptor","formatRegExp","format","f","isString","objects","inspect","join","str","String","replace","x","Number","JSON","stringify","_","isNull","isObject","deprecate","fn","msg","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","console","trace","error","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","formatValue","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","styleType","style","styles","arrayToHash","hash","forEach","val","idx","value","recurseTimes","isFunction","constructor","ret","primitive","formatPrimitive","visibleKeys","isError","getOwnPropertyNames","indexOf","formatError","isRegExp","RegExp","toString","isDate","Date","base","output","braces","isArray","toUTCString","formatArray","map","key","formatProperty","pop","reduceToSingleString","simple","isNumber","l","hasOwnProperty","match","desc","get","set","split","line","substr","reduce","prev","cur","numLinesEst","ar","arg","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","o","pad","n","debuglog","toUpperCase","test","pid","isBuffer","require","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","inherits","origin","add","kCustomPromisifiedSymbol","Symbol","undefined","callbackifyOnRejected","reason","cb","newReason","callbackify","original","TypeError","callbackified","maybeCb","self","then","rej","setPrototypeOf","getPrototypeOf","defineProperties","promisify","defineProperty","enumerable","writable","configurable","promiseResolve","promiseReject","promise","Promise","resolve","reject","err","custom","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","Function","ProcessEmitWarning","warning","warn","ownKeys","getOwnPropertySymbols","NumberIsNaN","isNaN","EventEmitter","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","create","newListener","unshift","w","emitter","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arr","copy","spliceOne","list","index","RangeError","setMaxListeners","getMaxListeners","doError","er","message","context","handler","position","originalListener","shift","rawListeners","eventNames","Ayoayo","game","currentEvent","newPVPGameButton","document","querySelector","newAIGameButton","players","querySelectorAll","noGamePadding","turnBadges","sowingHand","capturingHand","winnerBadges","pits","board","eventQueue","eventTypeToHandler","PICKUP_SEEDS","handlePickupSeedsEvent","event","fractionDone","row","column","getPitPosition","handX","handY","left","top","pit","getPitAtPosition","seeds","seed","removeChild","appendChild","setSummaryTextContent","getPitSummary","MOVE_TO","handleMoveToEvent","initialRow","initialColumn","nextRow","nextColumn","initialPitX","initialPitY","nextPitX","nextPitY","currentHandX","currentHandY","finishLastCapture","DROP_SEED","handleDropSeedEvent","seedInHand","pitSummary","textContent","SWITCH_TURN","handleSwitchTurnEvent","nextPlayer","updateTurnBadges","CAPTURE","handleCaptureEvent","capturingPlayer","pitX","pitY","player","captureStoreRect","captureStoreByPlayer","getBoundingClientRect","boardRect","y","captureStoreX","captureStoreY","getCaptureStorePosition","GAME_OVER","handleGameOverEvent","winner","badge","display","item","DEFAULT_EVENT_DURATION","onPickupSeeds","onGameEvent","onMoveTo","onDropSeed","onSwitchTurn","onCapture","onGameOver","onNewGame","playerTwoName","initDisplay","rowIndex","cellCount","cellIndex","initSeedStore","captured","capturedCount","captureStore","getCaptureStoreSummary","hand","seedsInHand","enableOnlyPermissiblePits","store","createElement","classList","styleSeed","otherPlayer","togglePlayer","_cell","permissibleMoves","includes","remove","parentWidth","parentElement","clientWidth","range","offset","r","Math","round","random","transform","elem","onClickPit","evt","currentTarget","contains","startIndexOfCellIndex","find","className","play","pitRect","seedsInCapturingHand","addEventListener","onClickNewPVPGame","onClickNewAIGame","vsMinimax","requestAnimationFrame","handleEventQueue","start"],"mappings":"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","file":"ayoayo-web.1c2a3b0b.js","sourceRoot":"..","sourcesContent":["module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// Implements minimax. Returns the min/max-ed score and list of moves.\n// Score is specified as the P1's score minus P2's scored.\nfunction minimax(game, depth, moves, maximizing) {\n  if (depth == 0 || game.winner != null) {\n    return [game.captured[0] - game.captured[1], moves];\n  }\n\n  if (maximizing) {\n    let maxEval = -Infinity;\n    let maxMoves;\n    game.permissibleMoves.forEach((move) => {\n      const gameClone = game.clone();\n      gameClone.play(move);\n      const [score, nodeMoves] = minimax(\n        gameClone,\n        depth - 1,\n        moves + move,\n        false,\n      );\n      if (score > maxEval) {\n        maxEval = score;\n        maxMoves = nodeMoves;\n      }\n    });\n\n    return [maxEval, maxMoves];\n  } else {\n    let minEval = +Infinity;\n    let minMoves;\n    game.permissibleMoves.forEach((move) => {\n      const gameClone = game.clone();\n      gameClone.play(move);\n      const [score, nodeMoves] = minimax(\n        gameClone,\n        depth - 1,\n        moves + move,\n        true,\n      );\n      if (score < minEval) {\n        minEval = score;\n        minMoves = nodeMoves;\n      }\n    });\n\n    return [minEval, minMoves];\n  }\n}\n\nmodule.exports = minimax;\n","const util = require('util');\nconst events = require('events');\nconst minimax = require('./minimax');\n\nfunction Ayoayo() {\n  this.board = [\n    [4, 4, 4, 4, 4, 4],\n    [4, 4, 4, 4, 4, 4],\n  ];\n  this.captured = [0, 0];\n  this.nextPlayer = 0;\n  this.isGameOver = false;\n  this.winner = null;\n  this.permissibleMoves = [0, 1, 2, 3, 4, 5];\n}\n\nAyoayo.NUM_COLUMNS = 6;\n\nAyoayo.events = {\n  GAME_OVER: 'game_over',\n  DROP_SEED: 'drop_seed',\n  SWITCH_TURN: 'switch_turn',\n  MOVE_TO: 'move_to',\n  PICKUP_SEEDS: 'pickup_seeds',\n  CAPTURE: 'capture',\n};\n\nutil.inherits(Ayoayo, events.EventEmitter);\n\n// Plays the next turn for the current player\nAyoayo.prototype.play = function play(cell) {\n  if (!this.permissibleMoves.includes(cell)) {\n    throw new Error('Not permitted to play this cell');\n  }\n\n  // Relay-sow. Update board and increment captures.\n  let captured;\n  [this.board, captured] = Ayoayo.relaySow(\n    this.board,\n    this.nextPlayer,\n    cell,\n    (eventType, ...args) => this.emit(eventType, ...args),\n  );\n  this.captured[0] += captured[0];\n  this.captured[1] += captured[1];\n\n  // Toggle to next player\n  this.nextPlayer = Ayoayo.togglePlayer(this.nextPlayer);\n  this.emit(Ayoayo.events.SWITCH_TURN, this.nextPlayer);\n\n  this.permissibleMoves = Ayoayo.getPermissibleMoves(\n    this.board,\n    this.nextPlayer,\n  );\n\n  // Next player can't move. Capture remaining seeds. Game over.\n  if (this.permissibleMoves.length == 0) {\n    let countRemaining = 0;\n    this.board[this.nextPlayer].forEach((cell, index) => {\n      if (cell > 0) {\n        countRemaining += cell;\n        this.board[this.nextPlayer][index] = 0;\n        this.emit(\n          Ayoayo.events.CAPTURE,\n          this.nextPlayer,\n          index,\n          this.nextPlayer,\n        );\n      }\n    });\n    this.captured[this.nextPlayer] += countRemaining;\n\n    this.isGameOver = true;\n    this.winner = Ayoayo.getWinner(this.captured);\n    this.emit(Ayoayo.events.GAME_OVER, this.winner);\n  }\n};\n\n// Returns a copy of the game state.\n// Event listeners are not copied.\nAyoayo.prototype.clone = function clone() {\n  const clone = new Ayoayo();\n  clone.winner = this.winner;\n  clone.captured = this.captured.slice();\n  clone.board = this.board.map((row) => row.slice());\n  clone.permissibleMoves = this.permissibleMoves.slice();\n  clone.nextPlayer = this.nextPlayer;\n  return clone;\n};\n\n// Relay-sows the seeds starting from cell and returns\n// the updated board and number of captured seeds.\n// Reports events by calling emit.\nAyoayo.relaySow = function relaySow(\n  board,\n  player,\n  cell,\n  emit = function (_eventType, ..._args) {},\n) {\n  const captured = [0, 0];\n\n  // Pickup seeds\n  let numSeedsInHand = board[player][cell];\n  board[player][cell] = 0;\n  emit(Ayoayo.events.PICKUP_SEEDS, player, cell);\n\n  // Move to next cell position\n  const nextPosition = this.next(player, cell);\n  emit(Ayoayo.events.MOVE_TO, [player, cell], nextPosition);\n  let [nextPositionRow, nextPositionCell] = nextPosition;\n\n  // Terminate when all seeds have been dropped and\n  // no continuing pickup was done\n  while (numSeedsInHand > 0) {\n    // Drop one seed in next cell\n    board[nextPositionRow][nextPositionCell]++;\n    numSeedsInHand--;\n    emit(Ayoayo.events.DROP_SEED, nextPositionRow, nextPositionCell);\n\n    // If the cell has four seeds, capture. If this is the last seed in hand,\n    // give to the current player. If not, give to the owner of the row.\n    if (board[nextPositionRow][nextPositionCell] == 4) {\n      const capturer = numSeedsInHand == 0 ? player : nextPositionRow;\n      captured[capturer] += 4;\n      board[nextPositionRow][nextPositionCell] = 0;\n      emit(Ayoayo.events.CAPTURE, nextPositionRow, nextPositionCell, capturer);\n    }\n\n    // Relay. If this is the last seed in hand and the cell was not originally empty,\n    // pickup the seeds in the cell.\n    if (numSeedsInHand == 0 && board[nextPositionRow][nextPositionCell] > 1) {\n      numSeedsInHand = board[nextPositionRow][nextPositionCell];\n      board[nextPositionRow][nextPositionCell] = 0;\n      emit(Ayoayo.events.PICKUP_SEEDS, nextPositionRow, nextPositionCell);\n    }\n\n    // Move to next position\n    const nextPosition = Ayoayo.next(nextPositionRow, nextPositionCell);\n    emit(\n      Ayoayo.events.MOVE_TO,\n      [nextPositionRow, nextPositionCell],\n      nextPosition,\n    );\n    [nextPositionRow, nextPositionCell] = nextPosition;\n  }\n\n  return [board, captured];\n};\n\nAyoayo.togglePlayer = function togglePlayer(player) {\n  return (player + 1) % 2;\n};\n\n// Returns a list of all possible cells the next player can play.\n// A player may play only cells with at least one seed.\n// If the other player has no seeds, the current player must \"feed\" them, if possible.\nAyoayo.getPermissibleMoves = function getPermissibleMoves(board, player) {\n  const otherPlayer = Ayoayo.togglePlayer(player);\n  const nonEmptyCellIndexes = board[player]\n    .map((_, index) => index)\n    .filter((cellIndex) => board[player][cellIndex] > 0);\n\n  // If the other player has seeds, permit all non-empty cells\n  const otherPlayerCanPlayNextTurn = board[otherPlayer].some(\n    (cell) => cell > 0,\n  );\n  if (otherPlayerCanPlayNextTurn) {\n    return nonEmptyCellIndexes;\n  }\n\n  // Other player has no seeds, permit only non-empty cells that feed\n  return nonEmptyCellIndexes.filter((cellIndex) => {\n    const boardCopy = board.map((row) => row.slice());\n    const [boardIfCellPlayed] = this.relaySow(boardCopy, player, cellIndex);\n    return boardIfCellPlayed[otherPlayer].some((cell) => cell > 0);\n  });\n};\n\n// Returns the winning player or -1, if draw.\nAyoayo.getWinner = function getWinner(captured) {\n  if (captured[0] == captured[1]) {\n    return -1;\n  }\n  if (captured[0] > captured[1]) {\n    return 0;\n  }\n  return 1;\n};\n\n// Returns the next position moving counter-clockwise from the given row and cell\nAyoayo.next = function next(row, cell) {\n  if (row == 0) {\n    if (cell == 0) {\n      return [1, 0];\n    }\n    return [0, cell - 1];\n  }\n  if (cell == Ayoayo.NUM_COLUMNS - 1) {\n    return [0, Ayoayo.NUM_COLUMNS - 1];\n  }\n  return [1, cell + 1];\n};\n\n// Returns a new instance of Ayoayo that plays a minimax move after each call to play()\nAyoayo.vsMinimax = function vsMinimax(depth = 5, game = new Ayoayo()) {\n  const oldPlay = game.play.bind(game);\n  game.play = function minimaxPlay(...args) {\n    oldPlay(...args);\n    if (game.winner == null) {\n      const [, moves] = minimax(game, depth, '', game.nextPlayer == 0);\n      const move = Number(moves[0]);\n      oldPlay(move);\n    }\n  };\n  return game;\n};\n\nmodule.exports = Ayoayo;\n","const Ayoayo = require('@chidiwilliams/ayoayo');\n\n(function () {\n  let game;\n  const newPVPGameButton = document.querySelector('.controls button.pvp');\n  const newAIGameButton = document.querySelector('.controls button.ai');\n  const players = document.querySelectorAll('.player');\n  const noGamePadding = document.querySelector('.no-game-padding');\n  const turnBadges = document.querySelectorAll('.turn-badge');\n  const sowingHand = document.querySelector('.hand.sowing');\n  const capturingHand = document.querySelector('.hand.capturing');\n  const winnerBadges = document.querySelectorAll('.winner-badge');\n  const pits = document.querySelectorAll('.pit');\n  const board = document.querySelector('.board');\n  let currentEvent;\n  let eventQueue = [];\n\n  const eventTypeToHandler = {\n    [Ayoayo.events.PICKUP_SEEDS]: handlePickupSeedsEvent,\n    [Ayoayo.events.MOVE_TO]: handleMoveToEvent,\n    [Ayoayo.events.DROP_SEED]: handleDropSeedEvent,\n    [Ayoayo.events.SWITCH_TURN]: handleSwitchTurnEvent,\n    [Ayoayo.events.CAPTURE]: handleCaptureEvent,\n    [Ayoayo.events.GAME_OVER]: handleGameOverEvent,\n  };\n\n  const DEFAULT_EVENT_DURATION = 200;\n\n  const onPickupSeeds = onGameEvent(Ayoayo.events.PICKUP_SEEDS);\n  const onMoveTo = onGameEvent(Ayoayo.events.MOVE_TO);\n  const onDropSeed = onGameEvent(Ayoayo.events.DROP_SEED);\n  const onSwitchTurn = onGameEvent(Ayoayo.events.SWITCH_TURN);\n  const onCapture = onGameEvent(Ayoayo.events.CAPTURE);\n  const onGameOver = onGameEvent(Ayoayo.events.GAME_OVER);\n\n  newPVPGameButton.addEventListener('click', onClickNewPVPGame);\n  newAIGameButton.addEventListener('click', onClickNewAIGame);\n  document.querySelectorAll('.side .pit').forEach((pit) => {\n    pit.addEventListener('click', onClickPit);\n  });\n\n  init();\n  requestAnimationFrame(handleEventQueue);\n\n  function onClickNewPVPGame() {\n    game = new Ayoayo();\n    onNewGame('Player 2');\n  }\n\n  function onClickNewAIGame() {\n    game = Ayoayo.vsMinimax();\n    onNewGame('AI');\n  }\n\n  function onNewGame(playerTwoName) {\n    game.on(Ayoayo.events.PICKUP_SEEDS, onPickupSeeds);\n    game.on(Ayoayo.events.MOVE_TO, onMoveTo);\n    game.on(Ayoayo.events.DROP_SEED, onDropSeed);\n    game.on(Ayoayo.events.SWITCH_TURN, onSwitchTurn);\n    game.on(Ayoayo.events.CAPTURE, onCapture);\n    game.on(Ayoayo.events.GAME_OVER, onGameOver);\n\n    players.forEach((player, index) => {\n      player.style.display = 'block';\n      if (index == 1) {\n        const playerName = player.querySelector('.player-name');\n        playerName.textContent = playerTwoName;\n      }\n    });\n    noGamePadding.style.display = 'none';\n\n    initDisplay(game);\n\n    currentEvent = null;\n    eventQueue = [];\n  }\n\n  function initDisplay(game) {\n    // Set in-game seeds\n    game.board.forEach((row, rowIndex) => {\n      row.forEach((cellCount, cellIndex) => {\n        const pit = getPitAtPosition(rowIndex, cellIndex);\n        initSeedStore(pit, cellCount);\n        setSummaryTextContent(getPitSummary(pit), cellCount);\n      });\n    });\n\n    // Set captured seeds\n    game.captured.forEach((capturedCount, index) => {\n      const captureStore = captureStoreByPlayer(index);\n      initSeedStore(captureStore, capturedCount);\n      setSummaryTextContent(\n        getCaptureStoreSummary(captureStore),\n        capturedCount,\n      );\n    });\n\n    // Clear seeds in hands\n    [sowingHand, capturingHand].forEach((hand) => {\n      const seedsInHand = hand.querySelectorAll('.seed');\n      seedsInHand.forEach((seed) => {\n        hand.removeChild(seed);\n      });\n    });\n\n    winnerBadges.forEach((badge) => {\n      badge.style.display = 'none';\n    });\n\n    updateTurnBadges(game.nextPlayer);\n    enableOnlyPermissiblePits();\n  }\n\n  function initSeedStore(store, count) {\n    store.querySelectorAll('.seed').forEach((seed) => {\n      store.removeChild(seed);\n    });\n\n    for (let i = 0; i < count; i++) {\n      const seed = document.createElement('div');\n      seed.classList.add('seed');\n      store.appendChild(seed);\n      styleSeed(seed);\n    }\n  }\n\n  function enableOnlyPermissiblePits() {\n    const nextPlayer = game.nextPlayer;\n    const otherPlayer = Ayoayo.togglePlayer(game.nextPlayer);\n\n    game.board[otherPlayer].forEach((_cell, cellIndex) => {\n      const pit = getPitAtPosition(otherPlayer, cellIndex);\n      pit.classList.add('disabled');\n    });\n\n    game.board[nextPlayer].forEach((_cell, cellIndex) => {\n      const pit = getPitAtPosition(nextPlayer, cellIndex);\n      if (game.permissibleMoves.includes(cellIndex)) {\n        pit.classList.remove('disabled');\n      } else {\n        pit.classList.add('disabled');\n      }\n    });\n  }\n\n  function updateTurnBadges(nextPlayer) {\n    const otherPlayer = Ayoayo.togglePlayer(nextPlayer);\n    turnBadges.item(nextPlayer).style.display = 'inline-block';\n    turnBadges.item(otherPlayer).style.display = 'none';\n  }\n\n  function styleSeed(seed) {\n    const parentWidth = seed.parentElement.clientWidth;\n    const range = (40 * parentWidth) / 90; // by how much will the random position extend\n    const offset = (-20 * parentWidth) / 90; // from what point\n    const r = Math.round(Math.random() * 360);\n    const x = Math.round(Math.random() * range) + offset;\n    const y = Math.round(Math.random() * range) + offset;\n    seed.style.transform = `rotate(${r}deg) translate(${x}px, ${y}px)`;\n  }\n\n  function getPitSummary(pit) {\n    return pit.parentElement.querySelector('.pit-summary');\n  }\n\n  function getCaptureStoreSummary(captureStore) {\n    return captureStore.querySelector('.pit-summary');\n  }\n\n  function setSummaryTextContent(elem, count) {\n    elem.textContent = count == 0 ? '' : String(count);\n  }\n\n  function init() {\n    const seeds = document.querySelectorAll('.seed');\n    seeds.forEach((seed) => {\n      styleSeed(seed);\n    });\n  }\n\n  function onClickPit(evt) {\n    if (game && !evt.currentTarget.classList.contains('disabled')) {\n      // e.g. \"3\" is in index 4 in \"pit-3\".\n      const startIndexOfCellIndex = 4;\n      const cellIndex = evt.currentTarget.classList\n        .toString()\n        .split(' ')\n        .find((className) => className.includes('pit-'))[startIndexOfCellIndex];\n      game.play(cellIndex - 1);\n    }\n  }\n\n  function onGameEvent(type) {\n    return function (...args) {\n      eventQueue.push({ type, args });\n    };\n  }\n\n  function handleEventQueue(time) {\n    if (!currentEvent) {\n      if (eventQueue.length == 0) {\n        requestAnimationFrame(handleEventQueue);\n        return;\n      }\n\n      currentEvent = eventQueue.shift();\n      currentEvent.start = time;\n    }\n\n    const fractionDone = (time - currentEvent.start) / DEFAULT_EVENT_DURATION;\n\n    if (fractionDone > 1) {\n      // End of animation. Enable permissible pits.\n      if (eventQueue.length == 0) {\n        enableOnlyPermissiblePits();\n      }\n\n      currentEvent = null;\n      requestAnimationFrame(handleEventQueue);\n      return;\n    }\n\n    // Disable all pits during animations\n    pits.forEach((pit) => {\n      pit.classList.add('disabled');\n    });\n\n    const handler = eventTypeToHandler[currentEvent.type];\n    handler(currentEvent, fractionDone);\n\n    requestAnimationFrame(handleEventQueue);\n  }\n\n  function handlePickupSeedsEvent(event, fractionDone) {\n    if (fractionDone == 0) {\n      const [row, column] = event.args;\n      const [handX, handY] = getPitPosition(row, column);\n      sowingHand.style.left = `${handX}px`;\n      sowingHand.style.top = `${handY}px`;\n\n      const pit = getPitAtPosition(row, column);\n      const seeds = pit.querySelectorAll(`.seed`);\n\n      seeds.forEach((seed) => {\n        pit.removeChild(seed);\n        sowingHand.appendChild(seed);\n      });\n      setSummaryTextContent(getPitSummary(pit), 0);\n    }\n  }\n\n  function getPitPosition(row, column) {\n    const pit = getPitAtPosition(row, column);\n    const pitRect = pit.getBoundingClientRect();\n    const boardRect = board.getBoundingClientRect();\n    return [pitRect.x - boardRect.x, pitRect.y - boardRect.y];\n  }\n\n  function getPitAtPosition(row, column) {\n    return document.querySelector(`.side-${row + 1} .pit-${column + 1}`);\n  }\n\n  function handleMoveToEvent(event, fractionDone) {\n    const [[initialRow, initialColumn], [nextRow, nextColumn]] = event.args;\n    const [initialPitX, initialPitY] = getPitPosition(\n      initialRow,\n      initialColumn,\n    );\n    const [nextPitX, nextPitY] = getPitPosition(nextRow, nextColumn);\n    const currentHandX = initialPitX + fractionDone * (nextPitX - initialPitX);\n    const currentHandY = initialPitY + fractionDone * (nextPitY - initialPitY);\n    sowingHand.style.left = `${currentHandX}px`;\n    sowingHand.style.top = `${currentHandY}px`;\n\n    finishLastCapture();\n  }\n\n  // Reset captured seeds status\n  // Transfer seeds from capturing hand to capture store\n  function finishLastCapture() {\n    const seedsInCapturingHand = capturingHand.querySelectorAll('.seed');\n    const playerThatCaptured = capturingHand.style.top[0] == '-' ? 0 : 1;\n    const captureStore = captureStoreByPlayer(playerThatCaptured);\n\n    seedsInCapturingHand.forEach((seed) => {\n      capturingHand.removeChild(seed);\n      captureStore.appendChild(seed);\n    });\n\n    const pitSummary = getCaptureStoreSummary(captureStore);\n    setSummaryTextContent(\n      pitSummary,\n      Number(pitSummary.textContent) + seedsInCapturingHand.length,\n    );\n  }\n\n  function handleDropSeedEvent(event, fractionDone) {\n    if (fractionDone == 0) {\n      const seedInHand = sowingHand.querySelector('.seed');\n      sowingHand.removeChild(seedInHand);\n\n      const [row, column] = event.args;\n      const pit = getPitAtPosition(row, column);\n      pit.appendChild(seedInHand);\n\n      const pitSummary = getPitSummary(pit);\n      setSummaryTextContent(pitSummary, Number(pitSummary.textContent) + 1);\n    }\n  }\n\n  function handleSwitchTurnEvent(event, fractionDone) {\n    if (fractionDone == 0) {\n      const [nextPlayer] = event.args;\n      updateTurnBadges(nextPlayer);\n    }\n  }\n\n  function captureStoreByPlayer(player) {\n    return document.querySelector(`.player-${player + 1} .captured`);\n  }\n\n  function handleCaptureEvent(event, fractionDone) {\n    // In the final turn, multiple captures happen consecutively\n    // and need to be cleaned up before the next one.\n    if (fractionDone == 0) {\n      finishLastCapture();\n    }\n\n    const [row, column, capturingPlayer] = event.args;\n\n    const pit = getPitAtPosition(row, column);\n    const seedsInPit = pit.querySelectorAll('.seed');\n    seedsInPit.forEach((seed) => {\n      pit.removeChild(seed);\n      capturingHand.appendChild(seed);\n    });\n\n    const [pitX, pitY] = getPitPosition(row, column);\n    const [captureStoreX, captureStoreY] = getCaptureStorePosition(\n      capturingPlayer,\n    );\n\n    const currentHandX = pitX + fractionDone * (captureStoreX - pitX);\n    const currentHandY = pitY + fractionDone * (captureStoreY - pitY);\n    capturingHand.style.left = `${currentHandX}px`;\n    capturingHand.style.top = `${currentHandY}px`;\n\n    setSummaryTextContent(getPitSummary(pit), 0);\n  }\n\n  function handleGameOverEvent(event, fractionDone) {\n    if (fractionDone == 0) {\n      finishLastCapture();\n\n      const [winner] = event.args;\n\n      turnBadges.forEach((badge) => {\n        badge.style.display = 'none';\n      });\n\n      if (winner == -1) {\n        winnerBadges.forEach((badge) => {\n          badge.textContent = 'Draw!';\n          badge.style.display = 'inline-block';\n        });\n        return;\n      }\n\n      const badge = winnerBadges.item(winner);\n      badge.textContent = 'Winner!';\n      badge.style.display = 'inline-block';\n    }\n  }\n\n  function getCaptureStorePosition(player) {\n    const captureStore = captureStoreByPlayer(player);\n    const captureStoreRect = captureStore.getBoundingClientRect();\n    const boardRect = board.getBoundingClientRect();\n    return [captureStoreRect.x - boardRect.x, captureStoreRect.y - boardRect.y];\n  }\n})();\n"]}